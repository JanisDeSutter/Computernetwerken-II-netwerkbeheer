# cnet2-leerstof-vragenlijst-21-22

> 
>
> **Algemene info over het examen:**
> \- Examen bestaat uit 2 delen: 1e deel gesloten boek, 2de deel open boek (ongeveer elk
> de helft van de beschikbare tijd)
> \- Een deel van de vragen van het gesloten boek-examen komt uit onderstaande
> vragenlijst. Bemerk dat het niet steeds de volledige of letterlijk dezelfde vraag hoeft
> te zijn die gesteld wordt. Het zal dus niet volstaan een
> studentensamenvatting/antwoordenlijst te bestuderen.
> \- Het open boek-examen zal zich voornamelijk toespitsen op theoretische oefening
> zoals we die gezien hebben in de lessen omtrent IPv4, IPv6 en Ethernet
>
> **Te kennen leerstof**
> \- Kennisclips en bijhorend slidemateriaal
> \- Respons-/oefeningencolleges en bijhorend slidemateriaal
> \- Zelftests
> \- Labo-inhoud
> \- Vermelde secties uit Kurose Ross
> \- Aanvullend pdf-hoofdstuk over IPv6
> \- Alle materiaal waarnaar verwezen wordt uit het wekelijkse leerstofdocument
>
> **Handboek**
>
> - **Hoofdstuk 2**
>   \- Sectie 2.4 DNS
>   \- Sectie 2.5 Peer-to-peer
>   \- Sectie 2.7 Sockets (zie ook Sectie 3.2)
> - **Hoofdstuk 4**
>   \- Sectie 4.3 IP
>   \- Sectie 4.4 SDN
> - **Hoofdstuk 5**
>   \- Sectie 5.1 Intro
>   \- Sectie 5.2 Algoritmes
>   \- Sectie 5.3 Intra-AS routering
>   \- Sectie 5.4 Inter-AS routering
>   \- Sectie 5.5 SDN controle-level
>   \- Sectie 5.6 ICMP
>   \- Sectie 5.7 Net mgt & SNMP
> - **Hoofdstuk 6**
>   \- Sectie 6.4 LAN met switches
> - **Hoofdstuk 7**
>   \- Sectie 7.1
>   \- Sectie 7.2
>   \- Sectie 7.3 Draadloze LANs
> - **Hoofdstuk8**
>   \- Sectie 8.9 Firewalling en IDS
>
> *Het merendeel van de leerstof is in tekstvorm in het handboek opgenomen. Voor sommige onderdelen gaan de slides/clips echter dieper in op bepaalde zaken dan het boek. Deze worden aangeduid met (*****) in het onderstaande overzicht.*
>
> ## Week 1
>
> INTRODUCTIELES
>
> - Sectie 1.5 Protocollagen en servicemodel
> - Sectie 2.1 Principes van netwerkapplicaties
> - Sectie 3.2 Multiplexen en demultiplexen
> - Sectie 6.7 Een dag in het leven van ...
>
> ZELFSTUDIE
>
> - Sectie 2.4 DNS 
>   - Kennisclip: Resolver
>   - Kennisclip: DNS registratie
>   - Kennisclip: Reverse DNS (*)
>   - Kennisclip: DNS server (*)
> - Sectie 2.5 Peer-to-peer bestandsdistributie
>   - Kennisclip: What is een DHT? (*)
>   - Kennisclip: Hoe werkt een DHT? (*)
>
> VRIJBLIJVENDE ZELFTEST WEEK 1 DNS EN P2P
>
> ## Week 2
>
> ZELFSTUDIE
>
> Sectie 4.3.3 IPv4 Dynamic Host Configuration Protocol
>
> - Kennisclip: DHCP
> - Kennisclip: DHCP renewal & relay (*)
> - Kennisclip: DHCP server (*)
>
> Sectie 4.3.4 Network Address Translation Protocol
>
> - Kennisclip: Network Address Translation
>
> Sectie 5.6 Internet Control Message Protocol (ICMP)
>
> - Kennisclip: Internet Control Message Protocol (*)
>
> VRIJBLIJVENDE ZELFTEST WEEK 2 IP, DHCP, NAT en ICMP
>
> ## Week 3
>
> ZELFSTUDIE
>
> Huiswerkoefening voor te bereiden voor response college (zie Inhoud -> Week 3 -> Oefening).
>
> Sectie 6.4 Local-Areanetwerken met switches (herhaling, behalve *)
>
> - Kennisclip: ARP
> - Kennisclip: ARP cache management (*)
> - Kennisclip: Ethernet switching
> - Kennisclip: VLAN
>
> VRIJBLIJVENDE ZELFTEST WEEK 3 LINK LAYER
>
> ## Week 4
>
> ZELFSTUDIE
>
> Sectie 7.1 - 7.2 Inleiding/Draadloze links en netwerkkenmerken
>
> - Kennisclip: Introductie tot draadloze netwerken
>
> Sectie 7.3 Wifi: 802.11 draadloze LANs
>
> - Kennisclip: Draadloze LANs
>
> VRIJBLIJVENDE ZELFTEST WEEK 4 WIRELESS NETWORKS
>
> ## Week 5
>
> ZELFSTUDIE
>
> Sectie 5.7 Netwerkbeheer en SNMP
>
> - Kennisclip: Netwerk management
> - Kennisclip: SNMP
> - Kennisclip: Netwerk Automatisering en Ansible
>
> ## Week 6 
>
> ### H.4* Netwerklaag IPv6
>
> ZELFSTUDIE
>
> IPv6 - pagina's 1 tot 31 (leerstof)
>
> - Kennisclip: IPv6 address space & notatie
> - Kennisclip: IPv6 address scope
> - Kennisclip: IPv6 ULA scope
> - Kennisclip: IPv6 address type
>
> IPv6 - pagina's 32 tot 35 (achtergrond)
>
> - Kennisclip: IPv6 header
>
> ## Week 7 
>
> ### H. 4* Netwerklaag IPv6
>
> ZELFSTUDIE
>
> IPv6 - ICMPv6 - pagina's 36 tot 59 (leerstof)
>
> - Kennisclip: IPv6 address resolution
> - Kennisclip: IPv6 Duplicate Address Detection (DAD)
> - Kennisclip: IPv6 StateLess Address AutoConfiguration (SLAAC)
> - Kennisclip: IPV6 - DHCPv6
>
> IPv6 - Transition to IPv6 - pagina's 60 tot 73 (achtergrond)
>
> - Kennisclip: IPv6 dual stack v6/v4
> - Kennisclip: IPv6 (only) to an IPv4 network
>
> ## Week 9 
>
> ### H.5 Netwerklaag - Intra AS-routing
>
> ZELFSTUDIE
>
> Sectie 5.1 Introductie
>
> - Kennisclip: Wat is routing
>
> Sectie 5.2 Routeringsalgoritmen
>
> - Kennisclip: Distance vector routing
>
> Sectie 5.3 Intra-AS routering: OSPF
>
> - Kennisclip: Link-state routing en OSPF
>
> Vrijblijvende Zelftest Intra-AS routing
>
> ## Week 10
>
> ### H.5 Netwerklaag - Inter AS-routing
>
> Sectie 1.7
>
> Sectie 5.4 Routing among the ISPs: BGP
>
> - Kennisclip: Structuur van het Internet
> - Kennisclip: BGP
>
> Vrijblijvende zelftest Hoofdstuk 5 Inter-AS routing
>
> ## Week 11
>
> ### H. 8 (Netwerk)Beveiliging
>
> Sectie 1.6
>
> Sectie 8.9 Firewalls & IDS (leerstof)
>
> - Kennisclip: Firewall and IDS
>
> ## Week 12
>
> ### H.4 en H.5 Netwerklaag
>
> Sectie 4.4 Gegeneraliseerde forwarding en SDN
> Sectie 5.5 Het SDN-controlelevel
>
> - Kennisclip: SDN
> - Kennisclip: Netwerkvirtualisatie
>
> 



## Hoofdstuk 2



1. **DNS is een hiërarchisch gedecentraliseerd systeem. Geef a.d.h.v. een voorbeeld aan hoe**
   **dit werkt**

   > DNS heeft 3 (of eigenlijk 4 als je de lokaal meetelt) soorten servers, **root** servers, **tld** (top level domain) servers en **authoritative** servers. 
   >
   > De root servers staan vanboven aan de tree, er zijn er meer dan 400 over heel de wereld die beheerd worden door 13 organisaties. deze root servers bevatten de ip adressen van TLD servers. Die top level domain servers beheren top level domeinen zoals .com, .be, .edu, … en bevatten de ip adressen van de authoritative servers. 
   >
   > Een authoritative server is een server van een organisatie die opgezet werd die zelf verwijst naar hun eigen webserver of bestemming. Wanneer je bv naar amazon.com surft zal eerst de root server gecontacteerd worden die verwijst door naar het .com tld, die tld verwijst dan door naar de amazon.com authorative sever.

   ![Imgur](https://imgur.com/jvSxTWk.png)
   
   
   
2. **Een lokale DNS-server werkt meestal zowel op recursieve als iteratieve wijze. Bespreek**
   **beide werkwijzen. Leg uit welke methode gebruikt wordt voor lokale hosts.**

> **Recursief** : De vraag wordt doorgespeeld naar andere servers tot aan de server die het antwoord kan geven.



![Imgur](https://imgur.com/A1xlVHQ.png)



> **Iteratief**: De vraag wordt niet doorgespeeld naar andere servers. De server stelt een vraag en op basis van het antwoord, wordt de volgende server gecontacteerd die meer kan vertellen over het antwoord.



![Imgur](https://imgur.com/xdWxHL5.png)



> **In de praktijk wordt vaak een combinatie van beiden gebruikt** waarbij de locale server bij sommige intermediated servers de vraag doorspeelt (recursief) en bij root en authoritative servers een antwoord krijgt maar de vraag niet doorspeelt (iteratief).

![Imgur](https://imgur.com/0rjaTNK.png)



3. **Wat is (in de context van DNS) : RR, A, NS, CNAME, MX (geef ook een voorbeeld)**

>**RR** = Resource Records → Manier om informatie op te slaan in de DNS-database. De algemene syntax is: [name], [TTL], [class], record type, record data. Een Resource Record kan een A-, NS-, CNAME-, MX-… als recordtype bevatten.
>**A** = een IPv4 adres voor een corresponderende hostname (dns.google.com IN A 8.8.8.8)
>**NS** = name server → bevat het IP adres voor dat (sub)domein (domein != hostname) (ugent.be IN NS ugentdns1.be)
>**CNAME** = bevat een alias (e.g andere naam) voor een record naarwaar het point ([www.ugent.be](http://www.ugent.be) IN CNAME ugent.be)
>**MX** = mail record → verwijst naar een mailserver voor dat domein. (mail.ugent.be IN MX 157.8.8.8)



4. **Wat is reverse DNS en hoe werkt het?**

> Doet een **vertaling** van een **IP-adres** naar een **domeinnaam**. Dit kan gedaan worden om bijvoorbeeld na te gaan of de afzender van de mail geen spam is. Hiervoor moet een **PTR-record** worden geconfigureerd. Het maakt ook gebruik van het **in-addr.arpa** domein en schrijft het ip omgekeerd om zo tot het juiste domein te raken.



5. **Leg het principe van sockets uit en hoe je in de praktijk de actieve sockets op je Linux-**
   **systeem kan opvragen.**

>Het is een soort systemcall die je kan uitvoeren vanuit een applicatie om een socket op te zetten.
>
>Sockets zijn de **actieve poorten** waar het systeem op luistert en eventueel **verkeer ontvangt en/of verstuurt**. Applicaties en/of services kunnen beroep doen op poorten om verkeer uit te **sturen** en te **ontvangen**. 
>
>Het is een soort "**deur**" tussen de **applicatie laag** (L5) en **transport laag** (L4). 
>
>Je kan actieve sockets opvragen met het **netstat** commando. Een modernere variant is “ss” maar werkt enkel op Linux.
>
>Om een **TCP connectie** op te zetten maakt men gebruik van sockets.



![Imgur](https://imgur.com/aMBlNYy.png)

6. **Bespreek de werking en functie van een DHT in peer to peer netwerken.**

> DHT = Distributed Hash Table.
>
> Het is een beter alternatief voor de tracker in p2p toepassingen. 
>
> Houdt gedistribueerd bij welke chunck op welk adres beschikbaar is.
>
> Er kan data geïnsert worden in de tabel en er kan ook op gequeried worden.
>
> Distributed = kan opgeslaan worden over verschillende nodes
>
> moet key-value paren (tuples) distribueren over verschillende nodes. Een techniek die hier voor gebruikt kan worden is **consistent hashing.**
>
> - elke **node** krijgt id toegewezen van m-bit adhv hash functie (modulo, sha1,..)
> - elke **key** krijgt ook id toegewezen van m-bit adhv hash functie (modulo, sha1,..)
>
> 
>
> **probleem**: niet elk id heeft een corresponderende nodes:
>
> **oplossing:** id opslaan op eerstvolgende node



![Imgur](https://imgur.com/xZGQMmw.png)



> **peer churn:** continue joining en leaving van nodes. key-values moeten opnieuw toegekend worden.

![Imgur](https://imgur.com/zsXgZlc.png)



**routing:** 

> Je kan niet heel het netwerk opvragen over wie welke id heeft, dat wordt opgelost door de regel dat je gewoon altijd aan de opvolger moet vragen. In het slechtste geval moet de vraag heel de ronde passeren alvorens te weten over welk id het gaat. De oplossing hiervoor zijn **Finger Tables**.



![Imgur](https://imgur.com/aonvc79.png)



## Hoofdstuk 4



1. **Leg NAT uit aan de hand van een voorbeeld. Bespreek de voor en nadelen van NAT.**

> NAT = **Network Address Translation**
>
> NAT (lange naam NATv4) laat toe om IPv4 adressen te vertalen naar een ander IPv4 adres. Deze vertaling kan zijn een **private IPv4 adres naar een publiek IPv4 adres**. Maar ook even goed een vertaling van een private naar een private IPv4 adres. De **vertaling hoeft niet een 1-op-1** vertaling te zijn. Een **range** van IPv4 adressen (vb. 192.168.0.0/24) kan verwijzen naar één (publiek) IPv4 adres.
>
> Het werkt aan de hand van de poorten op een router. Dat laatste komt vooral voor in Azië waarbij de ISP’s een dubbele NAT-vertaling doen om ervoor te zorgen dat er genoeg IPv4 adressen beschikbaar zijn voor de consumenten. Zo wordt één publiek IPv4 adres vertaald naar een privaat adres dat zich in de 10.0.0.0/8 range bevindt. Nadien wordt dat adres uit de 10.0.0.0/8 range opnieuw vertaald naar een IP uit een andere range (vb 192.168.0.0/24). Dit IP is toegekend aan een endhost. Op die manier kunnen minstens 16 000 verschillende particulieren en bedrijven gemapped worden naar één publiek IPv4 adres.
>
> Het **voordeel** van NAT is dat het indirect kan fungeren als een **firewall** waarbij bepaalde IP adressen of ranges van IP adressen toegelaten/geweigerd kunnen worden om verbinding te maken met een ander adres-range of internet. Daarnaast kan het lokaal netwerk onafhankelijk veranderen zonder dat de buitenwereld hiervan op de hoogte moet worden gebracht.
>
> Het **nadeel** van NAT is dat het enkel werkt op layer 3 (op router-niveau). Verder zijn de entries ook enkel gebaseerd op uitgaand verkeer.



2. **Stel een packet flow diagram op, waar één client in een netwerk een DHCP adres aanvraagt, maar waar er twee DHCP servers in het netwerk voorkomen. Leg aan de hand hiervan de werking van DHCP uit.**

>  - De PC stuurt een **DHCP-DISCOVER** bericht uit op het netwerk. (**Broadcast**)
>  - beide servers antwoorden met een **DHCP-OFFER**. (**Unicast**)
>  - De PC kiest zelf aan welke server die een **DHCP-REQUEST** bericht die zal uitsturen. (**Unicast**)
>  - De DHCP-server zal antwoorden met een **DHCP-ACKNOWLEDGEMENT** bericht waarna de computer voor een **leasetijd** (meestal 24 uur) dat IP-adres toegeëigend krijgt. (**Unicast**)

**DHCP-OFFER** & **DHCP-ACK** zijn **niet altijd broadcast**. DHCP heeft een extra flag (Bootp flag) waar men kan aanduiden of dat het unicast is of broadcast. DHCP server weet waar naar de unicast te sturen adhv het MAC adres.



![img](https://lh6.googleusercontent.com/kJa5nV44E-NiDLsp4Xpp7m3vOmKRNPBYdYd-wIaFjiOOf4l5KB96ekQncEeRyyFEs554gBz3xQYaNPyf9ekkMw5yT8KlUKjrISF7AkxUYLQdHkJ-RFNVR7j9nt27Smm0HODnSY6BcKk0F_vt6w)



**3. Wat is DHCP relay en waarvoor dient het?**

> DHCP relay zorgt ervoor dat DHCP-requests de lokale LAN kunnen verlaten om een DHCP-server te kunnen bereiken die op een ander subnet gelegen is.
>
> **De DHCP Relay agent** stuurt alle **DHCPDISCOVER** **BROADCAST** messages per **UNICAST** door naar een DHCP server in een ander subnet. 
>
> Daarna stuurt de externe DHCP server een **DHCPOFFER** **UNICAST** terug. De relay agent **BROADCAST** vervolgens het **DHCPOFFER** binnen zijn subnet.



![img](https://lh3.googleusercontent.com/kSRACYlSY4SNyJVS5dMAj5shEb4cTsE_VPwbAM1yxWGvugoxQ36q9iOQfzfrYSuY9qt89lrMMuAWFhdIbqhHp3d7jA9RSBdap4nl8D7ULuI9dMI1kkNTNbWol6G4RWfCUri9waNvGJeNCU_OvA)



4. **Leg het werkingsprincipe uit van Software-Defined Networking. Wat zijn de voordelen.**

> SDN (Software-Defined Networking)
>
> Het is een benadering van **netwerkbeheer** die **automatische**, **dynamische**, **programmatisch** **efficiënte** **netwerkconfiguratie** mogelijk maakt om de **netwerkprestaties** en -**security** te **verbeteren**, waardoor het meer lijkt op cloud computing dan op traditioneel netwerkbeheer.
>
> Het voorziet abstracties om op basis daarvan routing applicaties te schrijven.
> **OpenFlow** is de pionier binnen dit concept. Dit is de taal die gesproken wordt tussen de control plane (Netwerk OS) en de data plane (harware);

![img](https://lh5.googleusercontent.com/XBHHpHALovtr2H-ecTyBdoWv2qUnzmTeTpQ6N7vHZWVm8UcTGjFx0lsP3Ainu6XgGru18bGfwW6WErgctdWJHG1jgy3zOskEjN0FpMtm0p4yx9KHmf2EJdWGoakjDXLYeWFaGNeqSolVdy7svQ)





## Hoofdstuk 5

**1. Wat is een AS ? Geef 3 types (waarom is het belangrijk een onderscheid te maken).**

>  AS = **Autonomous System**
>  Een AS is een groep routers/netwerk elementen binnen dezelfde administratieve controle (beheerd of eigen van hetzelfde bedrijf, universiteit of provider).
>
>  **3 types:**
>
>  - **Stub AS**: Heeft slechts 1 connectie naar de rest van het internet
>  - **Transit AS**: verbindt 2 of meerdere AS’sen.
>  - **Multi connected AS**: heeft via meerdere verbindingen toegang tot andere AS’sen maar fungeert niet als transit

![img](https://lh3.googleusercontent.com/EoezP7FO7bGHEykisYL8ELQ2YdlVH02F_Yf2iu1DIDCEidXpw30NyLpDVtssgmpUI7p5NtaV7kOI5qFe5KXgNMUjoJlxSCEcMA8i4zrqWuNkD5X3jA8a1zFcjtzr8htTlKbwHe9VVI_VRIGjDg)

**2. Bespreek het verschil tussen intra- en inter-AS routering.**

> **intra-AS** routering: binnen AS (via **OSPF** of **RIP**)

![img](https://lh5.googleusercontent.com/3hyOQp_hw3JVmQZz6M6VEU_8deVmbm9F6FPcAVUajJbPw-gzdQURokG-oL4pDAiHhfzpm0YYcAnEBsKNcJcbEiLvkTHsiTlfgmmjn1UXLbjdksPmUvHur3CXv3MkbUw8FwsLPDSBYmk-Se6CVg)**
>
> **inter-AS** routering: tussen AS’sen (via **BGP**)

**![img](https://lh3.googleusercontent.com/LxU9_lUJKLMlkkFPtLSLGCbmapvfYmJCxPQUZNyX6_YeRKSC9w94_tfzm_oHQENpwz_FpPld_-ayoQGXyHWqYP0yP7ZxOkvY9Tp7fDeZpWRXV4k-6FISDSdj4gejACE7W1jiMlWnMVaSfMC-og)**



**Gateway routers** zijn verbonden met andere AS'en.



**3. Leg het werkingsprincipe van distance vector en link-state routering uit. Geef een voorbeeld voor beide strategieën.**



> - **distance vector routing:** disctance vector = vector met gewichten die aangeven hoe ver een gegeven router zich bevindt (bepaald door bandbreedte).
> - Iedere router ontvangt disctance vector van buren (bv elke 30 seconden). Ook update hij zijn eigen locale distance vector.
> - **RIP**

![img](https://lh5.googleusercontent.com/2PhqlEdbts0km3WiKjTGpcJ5xt-ShXNU0GrGHJmaZ0hog1QgB4nngs6bg0G-xfSPM_0UOxmd8NhLoxWQKdHBrYV0fn-Xn4i5tZFQ4uf7t1qctO-dkkKuagO3tlF-Kn2K04KJ-EQybKhk4MSHAQ)**
>
>
>**link-state routing:**
>
>- Houdt **afstand** tot bepaalde router bij aan de hand van een **link state database**. 
>- Maakt gebruik van advertisements om link states te verspreiden.
>- Maakt gebruik van **OSPF** om het shortest path te bepalen.

![img](https://lh4.googleusercontent.com/GjkDpefkPTyMTGttAzBr8SHhYF9BtgBK82Muk2R70E_-HL59ONX1y-1_OC6xlAe3Olaub99jd61DRAg8PNAiTZORvca4Kp5IkFP924CIiQBSm5ZLxJCcfaT0TPW2MwZZnXDtvhI4Rclq1JS9_A)





**4. Hoe gaan distance vector en link-state routering om met problemen in het netwerk?** **Evalueer de voor- en nadelen van beide strategieën.**

> **distance vector routing:** 
>
> - **Count to infinity** (Netwerk convergeert traag) :	
>
>   Oplossingen:
>
>   - **Split horizon**: Als router nooit distance vector doorgeven aan buur als router gebruik maakt van buur om bestemming te bereiken.
>   - **Poisoned reverse** : Als router nooit distance vector doorgeven aan buur als router gebruik maakt van buur om bestemming te bereiken.In plaats daarvan geef je afstand **oneindig** mee.

>**link-state routing:**
>
>- Geen directe problemen (denk ik?).
>
>**significante verschillen**:
>
>- **Link-state routing** kan goed omgaan met **veranderingen** in het netwerk, **Distance vector routing** minder goed.
>- **Link-state routing** kan gebruikt worden bij **grote netwerken**, **distance vector routing** eerder bij **kleine netwerken**.



![Imgur](https://imgur.com/jtjLRNS.png)



**5. Bespreek hierarchical OSPF. Waarom is dat nuttig?**

> OSPF = **Open Shortest Path First**

**hierarchical OSPF**:

- Bij grote netwerken zorgt het verspreiden van link states voor veel overhead.

- Oplossing: Topologie opsplitsen in hiërarchische areas om het protocol beter te laten schalen.  

- Iedere area zal enkel link state info verpreiden binnen de area. = minder belasting in netwerk.

- routers gaan enkel korste paden berekenen binnen area.

- **Backbone**: verbindt verschillende areas met elkaar.

- **Area border routers** geven toegang tot bepaalde area. Ze moeten proberen hun netwerk zo veel mogelijk te aggregeren. = minder belasting 

  

  

![img](https://lh4.googleusercontent.com/yAgc1zCsd5oKkJZu4M8_oGEOs17smJ8kKgCj2JCkaJgCm8TTHWi3S480EOOahGNa4bODmKmCvyq-zGom2Pq_1A3rjs0w3SGzcx8va9T0pDZIbg7erGzu6oxFdr9avSQRKzoOB6ufMEicPZg-4w)



**6. Bespreek een voorbeeld van BGP. Waarom heeft men I-BGP en E-BGP ?**

> BGP = Border gateway protocol.
>
> Wordt gebruikt om te routering tussen verschillende AS’sen gebruik makend van tcp (port 179). Het is een **path-vector protocol** (deelt paden naar andere AS’en met verschillende tussenliggende AS’en.) bv D via [A,B,C]. 
>
> **principes**: 

>- **Advertisement**: border routers delen subnetten die ze kunnen bereiken met andere border routers. (via **E-BPG** = external BGP)
>- **Propagation**:
>   - **IBGP** (internal BGP) wordt gebruikt om reachability informatie te delen met andere routers binnen AS.
>   - **EBGP** tussen border gateways.
>   - policy
>- **Route selection**: adhv van volgende eliminatie regels:
>   - policy (bv niet advertisen naar niet-betalende klanten of concurenten)
>   - korste AS pad
>   - next-hop (berekend door intra-as protocol)



**7. Wat is een AS-PATH ? Wat is een NEXT-HOP ?**

> Het zijn BGP-attributes.
>
> - **AS-PATH**: path vector, welke zijn de tusseliggende AS’sen?
> - **NEXT-HOP**: Interface waar AS-path begint. Hops zijn geen routers maar AS’en.



**8. Wat is policy based routing in BGP ? Geef een voorbeeld.**

>  Border routers gaan informatie gaan delen met andere router aan de hand van bepaalde voorwaarden (policies). 
>
>  Zo zal AS 54 in onderstaand voorbeeld zijn informatie niet delen met AS 134 omdat AS 134 geen betalende klant is.
>
>  Een AS kan er bijvoorbeeld ook voor kiezen om zijn informatie niet te delen met concurenten.

![img](https://lh3.googleusercontent.com/XgPPDsWLWg4rhOKRRd3EfeCyi7PnWRKjD0fhIdRVk5gBg_qz8Lm5_6TLOiEO5mYrcRT80GYKelRQohfNGsxEcIAYKjnOr8TNb_n8QMG-hRfDjxzUrQESvlcXNaFjvqufrOMGlxbEvVhmF2Iu7A)



**9. Wat is ICMP ? Geef een voorbeeld bij het gebruik in een redirect en traceroute.**

> ICMP = **Internet Control Message Protocol**. 
>
> Voorziet diagnostische mechanismen voor:
>
> - Host reachability (**Ping**)
> - Routing problemen oplossen (**ICMP Redirect**)
> - Route discovery (**Traceroute**)
> - andere (congestie notificatie, time sync,..) 
>
> Sommige firewalls blokkeren ICMP berichten om te voorkomen dat hackers hier misbruik van maken om bijvoorbeeld een DDOS-aanval mee uit te voeren.

> **Redirect** staat in voor het detecteren en oplossen van routeringsproblemen.

> Via **traceroute** kunnen de IP-adressen van de tussenliggende hops tussen de source- en destinationhost worden weergegeven. Hiervoor wordt er steeds een ICMP bericht uitgestuurd die bij elk nieuw pakket, de Time To Live (**TTL**) **met één verhoogd**. Dit wordt gedaan totdat de destinationhost bereikt is. Wanneer de host niet bereikbaar is binnen de maximale TTL , zal het antwoord een **timeout** teruggeven. De TTL kan ook beschreven worden met het maximum aantal tussenliggende hops het pakket mag passeren om de destinationhost te bereiken.



**10. Leg de basisprincipes van SNMP uit (wat, waarom, hoe, ...). Verwerk het woord MIB en OID in je antwoord.**



>**SNMP** = Simple Network Management Protocol is het protocol da gesproken wordt tussen de network management station (**NMS**) en de **agent**.
>
>Het maakt gebruik van een connectieloos protocol **UDP**.
>
>Het belangrijkste dat gemanaged moet moet worden is de **MIB** (managemente information base).
>
>**MIB**:
>
>- = Management Information Base
>- Informatie store dat management data over de netwerk elementen bijhoudt.
>- Vaste structuur: Structure of Management Information (**SMI**)
>- Elk object heeft een Object Identifier (**OID**). Deze identifier is een boomstructuur die SNMP voor mibs definieert.



>De Management Information Base (**MIB**) wordt gebruikt om informatie bij te houden over de network management data. Om **veranderingen** in het netwerk door te voeren, moet de managing server SNMP berichten verzenden naar de agenten van de desbetreffende nodes om de wijzigingen te kunnen doorvoeren. Hiervoor moet de Object ID (**OID**) bij de MIB gekend zijn.
>
>De managing server kan ook **informatie** over de nodes **opvragen**. Dit moet gebeuren op basis van het OID. Ook hier wordt een SNMP bericht gestuurd. De agent van de node stuurt hierop een antwoord terug. 



**11. Hoe kan Ansible ingezet worden voor netwerkautomatisering, en wat zijn de nodige basiscomponenten en protocollen van Ansible?**

>Ansible staat in voor Netwerk Devops. 
>
>Het zorgt er voor dat er op een **automatische** manier netwerk **tests** en **configuratie** uitgevoerd kunnen worden (=**Network as code**).
>Ansible kan zowel **Lokaal** of **remote** (in de cloud) uitgevoerd worden.
>
>**basiscomponenten**:
>
>* **Inventory**: Lijst van systemen (hosts) in de infrastructuur die geautomatiseerd uitgevoerd worden.
>
>* **Playbooks**:  Ook kunnen er plays (taken) gedefinieerd worden binnen de playbooks. Deze geven aan welke taak uitgevoerd moet worden door welke host.
>
>* **Key features:**
>
>   - agent-less: geen agents nodig op target devices (bv netwerk elementen).
>
>   - templates (bv jinja2)
>
>   - modules: 
>     - declaratieve staat: gewenste eindtoestand definiëren.
>     - idempotent: resultaat van uitvoer altijd het zelfde



**12. Wat is netwerkvirtualisatie en waarom wordt het gebruikt?**



>**Virtualisatie**: bepaalde functie wordt ontkoppeld van de specifieke hardware waarop ze gebruikt wordt.
>
>In plaats van dure hardware aan te schaffen, wenst men deze vaker in **virtueel** software te imlementeren. (= software switch en routers)
>
>Virtuele netwerk resource approach bovenop standaard servers.
>
>Er wordt gebruikt gemaakt van virtuele switches om virtuele netwerk interfaces met elkaar te verbinden.
>
>Op die manier kunnen verschillende VM's op de zelfde fysieke host met elkaar communiceren alsof ze op het zelfde LAN netwerk zijn aangesloten.
>
>Om communicatie te verwezenlijken moeten er **virtuele links** voorzien worden. (bv VXLAN tunneling).
>
>Dankzij virtualisatie kunnen resources optimaal benut worden. (schaalbaarheid en geen onderbenutting)
>
>

>![img](https://lh3.googleusercontent.com/Jti1Kp21Omjb4_g6KvsphnC6vNAW5ydsq1pwceSYSMHN3fuUWmhXCmo_jZohubAmsTEhdTl7yBMejS56EJOCLoa7W7XSnLBDgYL7bWzPcnvNsaKA0KKoT0YT_DtC6gUg0ZbTF_qygafHF0dF5g)
>
>![Imgur](https://imgur.com/HE1g7jE.png)





## Hoofdstuk 6

**1. Hoe werkt een Ethernet switch.**

> Een Ethernet Switch is een **Layer 2 “plug and play” device**. Het doel van de switch is om het **pakket** naar de **juiste host** te **versturen**. Hiervoor wordt een **switchtabel** automatisch opgesteld waarbij de switch leert welke hosts bereikt kunnen worden via welke poort. Op die manier wordt het verkeer gericht gestuurd.

**2. Hoe worden de switchtabellen ingevuld ? En hoe worden ze gebruikt ?**

>De switchtabellen worden **opgevuld op basis van het verkeer dat de switch ontvangt**. Als de switchtabel een pakket ontvangt, wordt het **MAC-adres** van de afzender met de respectievelijke **poort** opgeslagen in de tabel (als het de eerste keer is dat deze host een pakket verstuurd).
>
>Vervolgens kijkt de switch of die een entry van de ontvanger in de **tabel** heeft. Als dit het geval is, wordt het verkeer enkel naar de poort uitgestuurd. Wanneer de switch niet weet via welke poort de ontvanger bereikbaar is, wordt het pakket uitgestuurd naar **alle poorten**, behalve die van de afzender = een **broadcast** bericht wordt uitgestuurd.

**3. Bespreek STP en geef een voorbeeld.**

> STP = **Spanning Tree ProtocolIs** het mechanisme dat ervoor zorgt dat er geen **loops** tussen de switches ontstaan in het netwerk. Als dit mechanisme er niet zou zijn, dan zou het netwerkverkeer maar blijven **ronddwalen** en toenemen totdat er geen verkeer meer verstuurd kan worden omdat er teveel congestion is. Bij STP worden switches onderverdeeld op basis van **Switch identifier**. De switch met de hoogste prioriteit (laagste identifier) is de **rootswitch** (wordt links boven geplaatst. 
>
> Vervolgens worden de **root ports** bepaald: port dat het korste pad heeft naar root switch.
>
> **Designated port**: port dat het korste pad heeft naar root port **binnen segment** (segment = link die switchen verbinden)
>
> De andere poorten die geen root port of designated port zijn worden geblokkeerd.
>
> ![Imgur](https://imgur.com/TlhTsmE.png)



**4. Wat is een VLAN ? Bespreek de relatie tussen VLANs en subnetten.**

> VLAN = **Virtuele Local Area Network**. VLAN’s **delen het network logisch op in plaats van fysiek**. Dit laat toe om hosts die fysiek verspreid zijn, tot hetzelfde subnet te laten behoren = ze behoren tot hetzelfde VLAN. Hiervoor zijn er wel switches nodig om dit te kunnen configureren. Op poorten waar een endhost verbonden is, moet deze in access port modus staan en moet het toegewezen worden aan een VLAN. Op poorten waar verkeer van meerdere VLANS moet passeren (e.g. de verbinding gaat van een switch naar een router of van switch naar switch red.), moet deze op **trunk** modus ingesteld worden en moeten de VLANS toegelaten worden die verkeer over deze poort mogen laten gaan.
>
> **Soorten:**
>
> - **Port-based**: Er wordt een switch port geassigned aan een VLAN
> - **Tag-based**: Netwerk traffic wordt getagged. Op deze manier kunnen verschillende VLAN de zelfde switch poort gerbuiken (**trunk**).

**5. Geef een aantal voor- en nadelen van switches (versus routers).**

> Het grootste voordeel voor het gebruik van switches is dat er **geen configuratie nodig** is wanneer het toestel verbonden is met het netwerk. De switch configureert zichzelf in functie van het netwerk (e.g. de switchtabellen worden automatisch ingevuld) Het principe van “**plug and play**” is hier van toepassing. Dit is meteen ook het **nadeel van de router**, deze moet geconfigureerd worden wanneer die verbonden is met het netwerk om te kunnen functioneren.

## Hoofdstuk 7



**1. Bespreek de voornaamste verschillen tussen draadloze netwerken en bekabelde netwerken (bv. welke problemen kunnen optreden in draadloze netwerken, die je niet hebt in bekabelde netwerken)?**

>**interferentie**. Bestaat niet in bedrade omgeving. Verschillende toestellen maken gebruik van gedeeld spectrum (overlappende channels). Dit zorgt voor interferentieproblemen.
>
>Het draadloos **signaal verzwak**t ook wanneer het door muren moet passeren (hiding terminal problem). Hierdoor ervaart de eindgebruiker een verzwakt signaal waardoor die een trager internetsnelheid ervaart.



**2. Hoe werkt het IEEE 802.11 MAC protocol?**



>= Carier Sens Multiple Acces/ Collision avoidance.

> Het 802.11 MAC protocol wordt gebruikt om **gegevens** uit te **wisselen** tussen een station (vb. een **Access Point** ) en een **draadloos toestel**. Aangezien een station met **meerdere toestellen** kan communiceren over een gemeenschappelijk kanaal, moet er een medium-accessprotocol gebruikt worden om **collision** zoveel mogelijk te **vermijden**. 
>
> - Als channel niet in gebruik is (idle) voor een bepaalde tijd (**DIFS**), dan wordt het verzonden.
> - Bezet? **random backoff time** telt af zolang idle. wanneer deze is verlopen kan de frame verzonden worden.
> - **ACK** (bevestiging dat frame is ontvangen) versturen na **SIFS**.



![img](https://lh5.googleusercontent.com/w1TRNj1D-YGFyH8uea7cMDom3e6Tbk8cbzohNAlrBzPBnCQUCHNNQQ_LFxD7x-8tr3F73JP61HW5x_Lkajt3xe0z5CEKJr5aPi0u3hCSSHDEPOY7oybh9gJ_3xEipO66zsms8zRVpExM44Jw1A)

**3. Bespreek de werking van de adresvelden bij IEEE 802.11 netwerken.**



Een wifi acces point (AP) wordt gebruikt als doorgeefluik in een netwerk.

Tussen hosts in zelfde netwerk of tussen lokale host en host op het publieke netwerk.

**Adres 1** is altijd het adres van de **draadloze receiver**. **Adres 2** altijd van de **draadloze transmitter**. Het 3de adres is meestal het toestel dat in de eerste laag 3 hop bereikt moet worden. Het 4de adres wordt slechts in 1 scenario gebruikt.



4 Scenario's op basis van de toAp en de fromAp velden ([fromAp,toAp]):

- **ad-hoc mode** (0,0):  [Destination] [Source]  [BSSID] (afgesproken BSSID waarde die afgesproken is tussen de communicerende nodes)
- **infra-to-ap** (1,0): [APA] [Source] [Destination]
- **infra-from-ap** (0,1):  [Destination] [APA] [Source]
- **wireless mesh netwerk** (1,1): [Receiving AP] [Transmitting AP] [Destination] [Source]





![Imgur](https://imgur.com/P3EvzSd.png)



Als de frame toekomt in het AP zal het AP de frame vertalen naar een 802.3 ethernet frame.

| MAC Destination address | MAC Source address |
| ----------------------- | ------------------ |



## Hoofdstuk 8

**1. Bespreek pakketfiltering “packet firewall: stateless en stateful” en toepassingsgateway “application gateway”**

> Een firewall zal het binnenkomend verkeer filteren.
>
> **Stateless packet filter:** Beoordeelt elk pakket. maakt gebruik van opgestelde **regels** voor bijvoorbeeld source en destination address en zal op basis daarvan het pakket doorlaten of droppen. Dit gebeurt via een ACL (access control list).

![img](https://lh3.googleusercontent.com/l2vHu_P0E0AYZyqpVB1n6iKW_TKsajLD5OHxCaOS61wPE36hQhAx0Oflamm_mfPiJ_tBaXm3Uo_awL_UgKM3A4HW1oCACXYe6o-fFVSU4MgbiEFoHjwP1yohR14QAD_385PklWHN-Bq-I1uQgw)



>**Stateful packet filter:** **Monitort tcp verbindingen** en beslist op basis daarvan het verkeer al dan niet door te laten. Dit gebeurt via een ALC (met check connection flag). 
>
>Als de **check connection flag** van een bepaalde entry aan staat en de frame voldoet aan de voorwaarden van die entry zal men gaan checken of dat de frame afkomstig is van een reeds opgezette TCP verbinding is of niet. Indien dit niet zo is zal de frame gedropt worden. 
>
>Bij een **SYN** pakket zal men zien dat het een startende TCP verbinding is en zal men het opnemen in de **connection state table**. 
>
>De verbindingen worden verwijderd uit de connection state table bij een **FIN ACK** (als TCP verbinding beëindigd is) .

![img](https://lh6.googleusercontent.com/tnKZKhwIlB8stlM5KdAPXLKrerpSlr1MJDvJs2qvjQ_v_FacWjUjbuC3b9OD-u6lpAWtfGiSFzra6AB9pD7GGFSb7T15DcWCkUYCV3Yzoa8VHvb_mUkGyxxK5V7L5IrF046688AbPMRLWAf60w)
> **Application gateways:** Filtert op basis van application data. meestal gecombineerd met packet filter. Het is een soort toegelaten “man in the middle” voor web verkeer. Bijvoorbeeld web proxy.



## Hoofdstuk 4* : IPv6

> De slides van dit hoofdstuk bevatten tekstuele verduidelijking in de notes; deze notes vullen
> de slides aangezien er geen IPv6 hoofdstuk opgenomen is in het boek van Kurose-Ross.

**1. Bespreek de verschillende types adressen bij IPv6 (“Address Type”).**

> **Unicast**: is hetzelfde als bij ipv4 het is een **one-to-one** verbinding
>
> **Multicast**: probeert het inefficiënte broadcast te vervangen en is **one-to-many**. Je moet je inschrijven op multicast adressen waardoor je erop bereikbaar bent. Zo heb je groepen voor alle routers in het netwerk, …
>
> **Anycast**: wordt niet heel veel gebruikt omdat het niet zoveel nut heeft maar is **one-to-nearest**. Het stuurt nog altijd naar 1 bepaalde groep zoals multicast maar kiest er deze keer 1 uit (meestal de **dichtste**).

![img](https://lh6.googleusercontent.com/rupNFRh-JQYFZcNTzjYoSQYB6NRSQCzIZx3YZH2QmnF91CAGZidF-pCksPuEb63GGeokhSjT07KCMzqk7dAKBYbpTT7Z3W1jPJKeO3roSUiG76c_aFwfSgtwuCPXtEmlXIzz1nAOg6tLQMST7g)

**2. Leg uit: fe80::/10, 2000::/3, fc00::/7. Waarvoor worden deze verschillende scopes gebruikt?**



> **Fe80::/10**:
>
> - **Link Local** adressen.
> - niet routeerbaar
> - communicatie binnen LAN
>
> 
>
> **2000::/3** 
>
> - **Global unicast** adressen.
> - routeerbaar
> - communicatie buiten het subnet
> - ISP nodig
>
> 
>
> **Fc00::/7** 
>
> - **ULA scope**
> - voor communicatie tussen LAN's wanneer er geen ISP aanwezig is.



**3. Wat zijn de belangrijkste verschillen tussen een IPv4 en IPv6 header ? Waarom heeft men die verschillen ingevoerd ?**



| IPV4                   | IPV6                                         |
| ---------------------- | -------------------------------------------- |
| variable header length | fixed header length (8 velden)               |
| checksum               | geen checksum                                |
| fragmentatie           | geen fragmentatie (dankzij extension header) |



**4. Geef een voorbeeld van IPv6 adresresolutie en leg uit wat “solicited-node address” is.**

>**Solicited-node address:**
>
>- Een **solicited-node adres** is een **multicast adres**  (=multicast group).
>- Als men een unicast adres configureerd op een node zal deze node zich inschrijven op deze multicast group en op zijn multicast adres.
>- Dat adres wordt gevormd door de laatste 24 bits van het IPv6 te nemen en er een prefix **ff02::1:ff0:0/104** van te maken.
>- aangezien er in alle waarschijnlijkheid geen 2 dezelfde nodes de zelfde laatste 24 bits hebben zal deze node alleen zitten in zijn multicast group.
>- vandaar de tem **pseudo unicast**.
>- Hierdoor kunnen multicast-adressen gestuurd worden zonder alle andere link-local adressen aangeroepen moeten worden. Zo wordt een **broadcast vermeden.**
>
>![Imgur](https://imgur.com/HVUugx4.png)
>
>
>
>- Op **ethernet niveau** zal er ook een corresponderen multicast adress group aangemaakt worden.
>
>- Dit omdat een multicast zowel in de netwerklaag (L3) als in de datalink laag (L2) kan plaatsvinden.
>
>  
>
>  ![Imgur](https://imgur.com/wQO7F1t.png)
>
>
>
>**Address resolutie:**
>
>1. Host A stuurt een NS (**multicast**) om het Link Local adres te weten te komen van Host B.
>2. Host B antwoordt met NA (**unicast**).
>3. Nu Host A het link local adres weet van Host B, stuurt Host A een NS naar het **solicited node adress** van host B
>4. Host B antwoordt met een NA (unicast) met zijn **MAC** adres als payload.

![img](https://lh4.googleusercontent.com/y4UN9dRuewkpjNeCMQUabbsCranAuwVFQgaf8e9HnIk-zjNSqkLbaV6IJf3jQYv8iWECIPXHaSvNcCeZZHJ01TMCHFrbHBXP_FULv1Rzh6xicHLo8omaRJGjRGyYJ5iWPFD2UJ4nBo5YSJjiUw)



**5. Leg uit: IPv6 DAD.**

>DAD = **Duplicate Address Detection**. Wordt gebruikt in een IPv6 netwerk om na te gaan of het gegenereerde adres al niet in gebruik genomen is. 
>
>- Wanneer een host zijn adres heeft aangemaakt stuurt hij een **Neighbor Solicitation (NS)** om te controleren of het adres dat hij net maakte niet al in gebruik is. Het adres wordt op **tentative** gezet.
>-  Als de NS geen antwoord krijgt wil dit zeggen dat het adres niet in gebruik is door iemand en wordt het op **preferred**.
>- Wanneer er echter wel een antwoord komt zal het adres geweigerd worden en zal er een nieuw gemaakt worden.
>- De echte eigenaar van dit adres moet dit natuurlijk antwoorden naar onze host maar hij kan dit niet doen omdat het adres ervan niet gekend is (omdat het tentative is) dit is in heel het ipv6 de enige uitzondering om het **broadcast** multicast adres te gebruiken **(ff02::1**).



**6. Een IPv6 node met meerdere interfaces (e.g. een router), gebruikt intern steeds een zone index. Leg uit waarom.**

> Wanneer de router bijvoorbeeld een ICMP bericht krijgt van een host die een andere host wilt bereiken via een link local adres, moet de router kunnen achterhalen van welk subnet deze ICMP-aanvraag is uitgestuurd. Bij link local adressen kunnen hosts, verspreid over verschillende subnetten, hetzelfde IP hebben of een IP hebben uit dezelfde range. Door te werken met een **zone index** kan de router weten vanuit **welk subnet** die aanvraag uitgestuurd is zodat het de aanvraag kan doorsturen naar de juiste host in het **juiste subnet**.



**7. Bespreek de verschillen de autoconfiguratiestappen van IPv6.**



>**Stap 1**: **Genereer een link-local adres** 
>
>- Het adres wordt gegenereerd adhv **EUI-64** formaat, gebaseerd op het **MAC** adres.
>- De node subscribed op de all-nodes” (ff02::01) en de solicited-node multicast groups.
>- Duplicated Address Detection (DAD)
>
>
>
>**Stap 2: Stateless autoconfiguration:**
>
>- De host zendt een Router Solicitation (RS) uit naar “**all-routers**” multicast groep (**ff02::2**). 
>- De router antwoordt hierop met een RA. 
>- De RA bevat een **lijst met netwerkprefixen** en andere **parameters** zoals de default router lifetime, MTU en Hop Limit. 
>- Adhv de ontvangen prefix kan men een eigen **global address** generen. 
>- Deze moet opnieuw gecheckt worden adv **DAD**.
>



Na SLAAC (stateless address autoconfiguration) kan er in een RA een flag staan dat aanduidt of dat er een **DHCPV6** server gecontacteerd kan worden.

DHCPV6 kan extra informatie geven zoals de aanwezigheid van een DNS server.



>**Stap 3: stateless DHCPV6**  (enkel informatie aanbieden) :
>
>De host contacteert een een DHCP-server voor additionele configuratie zoals het verkrijgen van **DNS** en NTP. Hiervoor moet de “O”-vlag (Other) worden ingesteld op 1. 
>
>
>
>**Stap 4: stateful DHCPV6 **: (deelt ook adressen uit)
>
>DHCP server voorziet niet enkel de extra informatie maar kan ook adressen uitdelen. Hiervoor moet de “M”-vlag (Managed) op 1 staan. De DHCPV6 server houdt de adressen ook bij (**stateful**). 



**8. De overgang van IPv4 van IPv6 wordt georganiseerd in DNS records. Leg uit hoe dit mechanisme werkt.**

>- Binnen de DNS records wordt een nieuw type geïntroduceerd namelijk het **AAAA** record (I**PV6 resource record**). 
>
>![Imgur](https://imgur.com/MM24LM9.png)
>
>- Ook moet er een extra (IPV6) **reverse zone** toegevoegd worden om Reverse dns lookup te doen werken voor IPV6. 
>
>![Imgur](https://imgur.com/TOtBdQx.png)
>
>Bij een overgangsfase wordt een **dual stack resolver** gebruikt die zowel kan omgaan met A en AAAA records.
>
>Wanneer beide hosts over een IPv6 adres beschikken, wordt er **geopteerd** om **IPv6** te gebruiken in plaats van IPv4. Wanneer een DNS-records worden bevraagd, wordt als eerst de IPv6 record getoond en pas daarna de IPv4. Het OS gebruikt standaard het eerste record dat ze binnenkrijgen waardoor er een hogere kans is dat IPv6 gebruikt wordt.
>

![img](https://lh3.googleusercontent.com/RjGKa4m5KUBT7Frizo3e-_R8qquWtCU05dEI5Cf8ZgNP5PNA1ZbZGpN6HWfQE8ejMWGE_7UuND5y_s9R02-KpOdW7BtrbxuO6ihgONFdF037l5e-MaYkE3P9k5_oz20ZmHahL14gnQOnA7hkeg)





## Een dag in het leven van een web verzoek



> 1. **DHCP**

wanneer een pc voor het eerst connecteert met het netwerk zal hij eerst en vooral een IP adres nodig hebben.

![Imgur](https://imgur.com/Qfd3vC4.png)



> 2. **DNS & ARP**

wanneer de pc een verzoek wilt sturen naar www.google.be zal hij het IP adres nodig hebben van de server. Dit kan hij achterhalen via een **DNS server**. De info over DNS server die hij kan contacteren zat in het DHCP OFFER bericht uit voorgaande stap. 

Om een DNS request te versturen hebben we het **MAC** adres van de DNS server nodig. Deze komen we te weten via **ARP**.

De DNS request wordt in een **UDP** pakket geencapsuleert. 



> 3. **TCP**

Er wordt een TCP verbinding opgezet tussen de pc en de webserver van google. Dit gebeurt aan de hand van een 3-way handshake. 



> 4. **HTTP**

Nu kan er HTTP verkeer verwisseld worden tussen de pc en de web server.







## Extra info (responsie) en (gedeeltelijke) oplossingen zelftests

## Week 1 

### Resp 1



**Bespreking oefeningen:**

- **dns server** (output commando **dig** (tussenliggende dns servers etc))

  



**DNS misbruiken** (aanvallen:)

- DDOS (denial of service)
  -  bv. miljoenen DNS queries versturen naar DNS server.
  - Hoe? bv DNS amplification. met kleine query een groot response genereren adhv wildcard.

- DNS Hijacking: 
  - bv goagle.com -> domein niet gevonden. 
  - NXDOMAIN response vertaalt het naar google.be ahv search engine
  - malafide personen hosten een website op zulke foute hosts om te advertisen of om data te verzamelen
  - chrome zorgt er voor dat dit gecontrolleerd wordt. 



**DNS Server load balancing:**

- meerdere A records



**Root zone hint file**

- moet aanwezig zijn op elke dns server. moet manueel geconfigureerd worden



**Zone transfer**

- RR kopiëren naar slaves/secondary DNS servers



**reverse dns**

- omgekeerde volgorde:

![Imgur](https://imgur.com/5mBY6T1.png)

- niet verplicht. Een DNS server zal dus niet altijd antwoord geven op een reverse DNS query.



### Zelftest 1

1. > Hoe kan de command line tool "dig" de trace van tussenliggende DNS servers bekomen: a.d.h.v. een "iteratieve DNS query" of a.d.h.v. een "recursieve DNS query"?

   

    **iteratieve DNS query**

   

2. > Wat zijn DNS glue records?

   - DNS glue records zijn DNS RRs zodat verschillende DNS domeinen tot een zone kunnen worden samengevoegd. 
   - Een DNS glue record is een A type DNS RR dat het IP adres van een name server geeft voor een lagergelegen domein in de DNS hiërarchie.
   - DNS glue records voor gegeven onderliggend domein A zijn niet nodig wanneer een name server van een onderliggend domein A tot een ander domein B behoort.

   

3. > Hoe komt het dat als we 2 DNS queries na elkaar uit voeren (met x aantal minuten tussen) dat de 2de query veel sneller wordt uitgevoerd?

   Dit komt door caching (Caching nameservers). De TTL van het atwoord op de query bepaalt hoe lang het gecached moet worden. Wanneer de TTL velopen is zal de query opnieuw langer duren door het resolven.

   

4. > Welke uitspraken zijn correct over het DNS registratie proces.

   - Technisch gezien heeft het DNS systeem geen registratiesysteem nodig, aangezien alle DNS servers geen rechtstreekse link hebben met de registry.
   - Een TLD DNS server van bv. .com hoeft niet noodzakelijk een entry toe te voegen voor een onderliggend domein zoals facebook.com om DNS queries bij hun bestemming terecht te laten komen. Veronderstel lege caches en zonder statische entries in andere servers/hosts.
   - De reden waarom je geen Belgische domeinnamen in het ICANN lookup portaal of via de WHOIS tool vindt is omdat de privacy-gerelateerde wetgeving dat niet meer toelaat.

   

5. > Welke van de volgende uitspraken zijn correct m.b.t. DNS server configuratie?

   - In het SOA record op een name server kun je terugvinden wat het email adres is van de netwerkbeheerder van dat domein. 



6. > Wanneer we "dig yahoo.com" uitvoeren, vinden we enkele type A records met IP adressen voor de gegeven domeinnaam (bv. 74.6.143.25).  Welke uitspraken m.b.t. reverse DNS op een ontvangen IP adres zijn correct?

   - "dig -x <IPadres>" kan gebruikt worden om de domeinnaam te achterhalen





## Week 2

### Resp 2

**Bespreking oefeningen:**

- routing table
- subnets

### Zelftest 2



1. > Welke uitspraken zijn correct m.b.t. DHCP?

   - DHCP kan gebruikt worden om de default gateway te configureren wanneer nieuwe toestellen zich aanmelden op het netwerk.
   - Nog voor de lease time verloopt van een via DHCP ontvangen IP adres, kan de betrokken host een DHCP request uitsturen om een nieuw IP adres.
   - Een DHCP Offer en DHCP Acknowledge bericht kan ook via unicast bij de aanvrager van het IP adres terechtkomen. 



2. > Welke uitspraken zijn correct over Network Address Translation?

   - Hosts in een netwerk achter een NAT toestel/router maken gebruik van adressen uit de private range.
   - Het is onmogelijk om 90 000 hosts terzelfdertijd te laten communiceren naar het publieke Internet wanneer die hosts allen zich achter een NAT toestel bevinden. 



3. > Welke uitspraken over de traceroute tool zijn correct?

   
   
   - traceroute verstuurt meerdere pakketten van de bron naar de bestemming om de route te kunnen achterhalen tussen beide.
   - Routers op het pad van bron naar bestemming sturen een ICMP bericht van het type "Destination unreachable" terug naar de bron.



traceroute mag ICMP gebruiken maar dat kan ook UDP paketten zijn.

ICmP wordt meteen over ICMP wordt meteen via IP verstuurd en dus niet geëncapsuleerd in UDP paketten



4. > Welke uitspraken zijn correct over het ICMP redirect mechanisme?

   - ICMP redirect wordt enkel gebruikt tussen routers of hosts verbonden via hetzelfde subnet (link layer). 
   - ICMP redirect bericht moedigt aan dat een router of host de juiste gateway configureert in zijn routing tabel voor een gegeven bestemming. 





## Week 3

### Resp 3

**Bespreking oefeningen:**

- routing table update wanneer ethernet switch plots gebruik maakt van VLAN

- netwerk topology ontwerp

- oefening ontwerp routers vs switches (links, optimale routes, aantal forwarding entries, minimale capaciteit per link node)

  

### Zelftest 3



1. > Welk van de volgende uitpraken met betrekking tot ARP zijn correct?

   - Alle hosts op dezelfde link ontvangen een ARP request uitgestuurd door een van de hosts.
   - Een ARP response wordt gebroadcast zodat alle andere nodes ook weten wat het MAC adres is horend bij een gevraagd IP adres

2. > Geef aan welk van de volgende uitspraken correct is met betrekking tot het Spanning Tree Protocol (STP).

   - STP zorgt ervoor dat je netwerktopologie beperkt wordt, waardoor je eigenlijk capaciteit verliest.
   - STP zorgt ervoor dat je niet noodzakelijk het kortste pad gebruikt in je topologie.



## Week 4

### Resp 4 + Zelftest 4

**Respone College: Wireless Networking**

In een bedrade ethernet context kunnen we collision detection doen. In draadloze netwerken niet want dat is fysich onmogelijk. In de plaats maakt men gebruik van collision avoidance.



1. > Koppel oorzaak en tekortkomingen



> treedt op als verschillende bronnen verzenden in dezelfde frequentie range

**interferentie**. Bestaat niet in bedrade omgeving. Verschillende toestellen maken gebruik van gedeeld spectrum. Dit zorgt voor interferentieproblemen.



> de attenuatie van het elektromagnetisch signaal is hiervan de oorzaak wanneer het signaal reist door de lucht/materie

**padverlies** (ook path loss of padverzwakking)



> het gevolg hiervan is een vaag signaal bij de ontvanger doordat delen van de elektromagnetische golf van objecten reflecteren 

**voortplaning via verschillende paden**. Draadloze signalen verspreiden zich doorheen de lucht. Ze kunnen weerkaatst worden door objecten in de omgeving.



2. > 

![Imgur](https://imgur.com/2FcC9LU.png)



Dankzij reflectie neem het signaal verschillende paden. 

![Imgur](https://imgur.com/ZwD3Ozz.png)

Als 1 antenne zich net op een "doode spot" bevindt zal hij het signaal niet ontvangen. Daardoor zorgt men er voor dat het signaal op verschillende punten ontvangen kan worden.



3. >Stel dat een mobiele node steeds verder verwijderd wordt van een basisstation. Welke acties kunnen dan ondernomen worden om de kans dat een verzonden frame correct arriveert te vergroten?

   - Het transmissievermogen verhogen (SNR (signal to noise ratio) verhogen)
   - Een lagere bitoverdrachtssnelheid hanteren

   

   ![Imgur](https://imgur.com/ZBLMSjb.png)

4. > Welke uitspraken zijn correct over beacon frames?

   

   Een acces point stuurt slechts op 1 kanaal beaconframes door.

   

   - Beacon frames laten toe draadloze stations toe om APs te detecteren die zich in de buurt bevinden

   ![Imgur](https://imgur.com/kCDxveV.png)

   

5. > Stel dat je in een villa (zonder buren) beschikt over een snelle bedrade 200 Mbps internettoegang (downstream) van je ISP. Je kan ook beschikken over 3 IEEE 802.11g Access Points die je in je huis kan opstellen.
   >
   > Welke 3 kanalen (in oplopende volgorde) zou je als netwerkbeheerder gebruiken?  

   ![Imgur](https://imgur.com/FxyFzVW.png)

   12-14 niet gebruikt in VS want wordt gebruikt voor radio en tv doeleinden.

   Ideale toestand: geen overlappende spectra (= geen interferrentie) :

   **Kanaal 1,6 & 11.**

   

   **Iedeaal scenario in bureau:**

   15-20% overlap zodat niemand zonder bereik valt. De overlap is enkel geografisch want de channels gebruiken een veschillend spectra. Er is dus geen verlies in bandbreedte.

   ![Imgur](https://imgur.com/eVXphs1.png)

   **Breedband calculatie:**

   

   **mW**: bepaalt vermogen en dus ook de range van de AP's.

   

   ![img](https://i.imgur.com/PmyGolI.png)

   > Hoeveel (downstream) bandbreedte in Mbps kun je bijgevolg maximaal gebruiken (met alle toestellen samen) ?  Je mag afgaan op de gegevens in het handboek in tabel 7.1.

   

   Ieder AP kan max 54mbps voor zichzelf aanbieden. Dus 3x54 = **162 Mbps**



6. > Stel dat een draadloos station zich van de ene naar de andere cell binnen hetzelfde subnet verplaatst. Stel dat de APs met een switch verbonden zijn. Welke uitspraken zijn correct?

   

   - Meteen nadat de node zich heeft geassocieerd aan het nieuwe AP, is de node hoogstwaarschijnlijk niet bereikbaar voor de buitenwereld. *(Dit is afhankelijk van hoe de swtich zijn forwardingstabel tussen de verschillende acces points heeft geconfigureerd)*

   

   - De node die is verhuisd naar het nieuwe AP, kan een random MAC frame genereren om meteen bereikbaar te worden.

7. > Stel dat 2 ISPs wifitoegang in een bepaald café aanbieden. Hierbij heeft elke ISP een eigen access point (AP1 en AP2) en een eigen IP adresblok gebruikt en beide APs maken gebruik van kanaal 11. Je mag veronderstellen dat de uplink van beide APs voldoende is om 100 gebruikers terzelfdertijd van internet access te voorzien.

   

   Ze hebben een verschillend SSID.

   **SSID** staat voor **Service Set Identifier** (naam van het draadloos netwerk) bv. "TelenetWiFree".

   

   - Beide APs hebben ander MAC adres
   - Elk frame dat verstuurd wordt door een station dat geassocieerd is met AP1, zal ook ontvangen worden door AP2 (Ze maken allebei gebruik van het kanaal 11 dus luisteren op het zelfde spectrum. Adhv het BSSID van het access point kan er onderscheid gemaakt worden in het verkeer)

   

   stel dat er 10 gebrukers in het cafe zitten zou het niet nodig zijn om hun te verdelen over de 2 access points aangezien de acces points toch gebruik maken van het zelfde kanaal. Mocht er een limiet zijn van 5 personen zijn bij de uplink van de ISP's zouden ze zich wel beter verdelen.



8. > Stel dat een 802.11b station zo geconfigureerd is dat het altijd het kanaal reserveert met de RTS/CTS uitwisseling. Stel dat dit station ineens 1000 bytes gegevens wil verzenden en alle andere stations op hetzelfde moment niets willen verzenden. Neem een transmissiesnelheid van 11 Mbps aan. 

   > Bereken, als functie van SIFS en DIFS, zonder rekening te houden met de propagation delay en in de veronderstelling dat er geen bitfouten optreden, de tijd die nodig is om het frame te verzenden en de bevestiging te ontvangen (in microsec). Je mag veronderstellen dat frame een zonder data 32 bytes lang is.

   32bytes=256bits (1byte=8bit)

   **820**µs (micro seconden)

   

   ![Imgur](https://imgur.com/NtrYJRc.png)

9. >Gegeven onderstaande netwerk dat bestaat uit 2 access points AP1 en AP2 verbonden via een switch s1, die op zijn beurt verbinding maakt met de rest van het netwerk via router r1.
   >
   >Op draadloze links wordt gebruik gemaakt van de IEEE 802.11 frames in de linklaag, op bedrade links veronderstellen we IEEE 802.3 bekabeld Ethernet. Voor deze oefeningen beperken we onze aandacht tot de gebruikte MAC adressen in de frame headers. 
   >
   >We veronderstellen dat verkeer wordt gestuurd tussen verschillende hosts en op bepaalde momenten wordt onderschept. De tabellen in de figuur geven een aantal situaties voor (1 per rij) waarvoor we de MAC adressen zoeken (aangegeven in rood) zoals aanwezig in de 802.11 MAC header of 802.3 MAC header. 
   >
   >De notatie H1->H2@H2 geeft weer dat een frame afkomstig van H1 richting H3 wordt onderschept wanneer het binnenkomt bij H2.
   >
   >Vul in de onderstaande velden (in correcte volgorde, van 1 tot 8) de gebruikte MAC adressen in. Het MAC adres van H1 geef je aan als "H1", of gebruikt de interfacenaam zoals aangegeven op de figuur (bv. van de router).

   

   ![Imgur](https://imgur.com/Xp1EYya.png)

   ![Imgur](https://imgur.com/L1X5OYK.png)

   Antwoord voor invulvraag # 1: **(AP2)**

   Antwoord voor invulvraag # 2: **(r1if2)**

   Antwoord voor invulvraag # 3: **(AP1)**

   Antwoord voor invulvraag # 4: **(r1if2)**

   Antwoord voor invulvraag # 5: **(AP2)**

   Antwoord voor invulvraag # 6: **(r1if2)**

   Antwoord voor invulvraag # 7: **(H1)**

   Antwoord voor invulvraag # 8: **(r1if2)**



## Week 5

### Resp 5

SNMP en MIB in detail uitgelegd.



## Week 6/7

### Resp 6/7

Waarom IPV6

IPV6 notatie



## Week 9

### Resp 9

Uitleg Intra-As protocollen + demo





### Zelftest 5

1. >Beschouw onderstaande netwerk met gegeven kost tussen de de nodes. Veronderstel dat poisoned reverse actief is in het gebruikte distance vector protocol.
   >
   >Welk van de onderstaande uitspraken is correct?
   >
   >![Imgur](https://imgur.com/kZjoWMc.png)

   - De kortste afstand naar x die router z doorgeeft aan router w is ONEINDIG.
   - Wanneer de kost van x naar y oploopt van 4 naar 60, dan gaat zich een count to infinity probleem voordoen.
   - Wanneer de kost van x naar y oploopt van 4 naar 60, dan is de eerstvolgende kortste afstand die y gaat doorgeven aan w de afstand 9. 

2. > Wanneer een OSPF router zijn linkstate-informatie verstuurt, stuurt het die alleen naar de direct daaraan gekoppelde buren.

   onwaar. over de volledige AS adhv flooding.

3. > Waarom zijn er verschillende intra-AS protocollen in gebruik op het Internet?

   - Ieder intra-AS protocol heeft zijn eigen pro's en con's in termen van schaalbaarheid en convergentiekarakteristieken.
   - Ieder AS kan zelf beslissen over hoe het de forwardingtabellen van zijn routers invult, en kan dus zelf beslissen welk routingprotocol gebruikt wordt.

   

4. > Wat wordt bij een OSPF routeringsconfiguratie bedoeld met een area en waarom is het concept van een area geïntroduceerd ? Geef aan welke van de onderstaande uitspraken correct zijn.

   - Een area is een verzameling van routers binnen een autonoom systeem.
   - Link-state informatie wordt enkel gebroadcast binnen een area.
   - Areas maken dat OSPF kan gebruikt worden voor autonome systemen met meer routers
   - Binnen een area zijn 1 of meerdere area border routers verantwoordelijk voor de routering van pakketten buiten de area.






## Week 10

### Resp 10

Uitleg Inter-As protocollen + demo



### Zelftest 6



1. > Geef aan welk van de volgende uitspraken correct is m.b.t. BGP, subnetten en prefixen.

   - Een subnet is een deel van een groter netwerk
   - Een gegeven prefix kan 1 of meerdere prefixen omvatten.

   

2. > Waartoe kan het AS-PATH attribuut bij BGP advertisements gebruikt worden? Selecteer de correcte uitspraken.

   - Het AS-PATH attribuut kan gebruikt worden door routers om te detecteren of er lussen in het aangekondigde pad naar een subnet te vinden zijn.
   - Het ontvangen van meerdere AS-PATHs voor een gegeven bestemming laat BGP routers toe om te kiezen welke route ze prefereren en configureren in hun forwarding plane.

   

3. > Welk van de volgende uitspraken met betrekking tot BGP policies zijn correct?

   - Als een AS - of BGP router van een AS - een pad naar een gegeven subnet/prefix adverteert naar zijn buren, dan belooft hij in principe om ontvangen verkeer naar die bestemmingen te routeren.
   - Een tier 1 ISP heeft de keuze om doorgaand verkeer tussen andere tier-1 ISPs al dan niet toe te laten. Om dit te implementeren kan hij ervoor kiezen om routes naar gegeven bestemmingen niet te adverteren, waardoor verkeer voor die bestemmingen niet door het beschouwde AS kan verlopen.
   - BGP policies kunnen ervoor zorgen dat de route naar een gegeven bestemming (subnet of prefix) vele malen langer is dan het kortste pad naar die bestemming.





## Week 11

### Resp 11

Achtergrondinfo **security** in netwerk.

hackers, phishing, heartbleed, DDOS (distributed denial of service),

**mapping**: netwerk scannen (ip's, ports,..)

**packet sniffing**: afluisteren. hoe tegen gaan? broadcast medium vermijden of alle verbindingen encrypteren

**Ip spooffing**: A verstuurt verkeer en zegt dat het afkomstig is van B. Oplossing: ingress filtering: als source adres niet voorkomt in netwerk:niet doorsturen.





## Week 12

### Resp 12

SDN (software defined networking)

Open Flow

Netwerk virtualisatie

Load balancing







